;/*FB_PKG_DELIM*/

__d("GridStoryAlbumUtils",["ReactComposerCollageLayoutSelection"],(function(t,n,r,o,a,i,l){"use strict";var e=1.01;function s(t,n,r){var o=t.columnSpan,a=t.columnStart,i=t.rowSpan,l=t.rowStart;return{bottom:"calc(("+(r-(l+i))*100+"% / "+r+") + "+(l+i<r?e:0)+"px)",left:"calc(("+a*100+"% / "+n+") + "+(a>0?e:0)+"px)",right:"calc(("+(n-(a+o))*100+"% / "+n+") + "+(a+o<n?e:0)+"px)",top:"calc(("+l*100+"% / "+r+") + "+(l>0?e:0)+"px)"}}function u(e){var t=o("ReactComposerCollageLayoutSelection").getBestUserCollageLayout(e.reduce(function(e,t,n){var r,o,a,i;return e.set(n,[(r=(o=t.media)==null||(o=o.image)==null?void 0:o.width)!=null?r:0,(a=(i=t.media)==null||(i=i.image)==null?void 0:i.height)!=null?a:0]),e},new Map)),n=Array.from(t.entries()).map(function(t){var n=t[0],r=t[1];return{attachment:e[n],columnSpan:r.getWidth(),columnStart:r.getLeft(),rowSpan:r.getHeight(),rowStart:r.getTop()}}),r=n.reduce(function(e,t){return Math.max(e,t.columnStart+t.columnSpan)},0),a=n.reduce(function(e,t){return Math.max(e,t.rowStart+t.rowSpan)},0);return[n,r,a]}l.getStylesForGridCell=s,l.getLayoutForAttachments=u}),98);
__d("ProfileCometTimelineGridStoryAlbumAttachmentStyle_styleTypeRenderer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"gridMediaWidth"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"ProfileCometTimelineGridStoryAlbumAttachmentStyle_styleTypeRenderer",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"gridMediaWidth"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[e],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:"all_subattachments(first:5)"}],storageKey:null}],type:"StoryAttachmentAlbumStyleRenderer",abstractKey:null}})();a.exports=e}),null);
__d("ProfileCometTimelineGridStoryAlbumAttachmentStyle.react",["fbt","ix","CometFeedFocusImage.react","CometImage.react","CometRelay","GridStoryAlbumUtils","ProfileCometTimelineGridStoryAlbumAttachmentStyle_styleTypeRenderer.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=c||(c=o("react")),m=1.4;function p(t){var a,i,l=o("react-compiler-runtime").c(8),c=t.styleTypeRenderer,p=o("CometRelay").useFragment(e!==void 0?e:e=n("ProfileCometTimelineGridStoryAlbumAttachmentStyle_styleTypeRenderer.graphql"),c),f=p.attachment,g,h;if(l[0]!==(f==null||(a=f.all_subattachments)==null?void 0:a.count)||l[1]!==(f==null||(i=f.all_subattachments)==null?void 0:i.nodes)){var y,C,b,v,S,R=((y=f==null||(C=f.all_subattachments)==null?void 0:C.nodes)!=null?y:[]).filter(_),L=(f==null||(b=f.all_subattachments)==null?void 0:b.count)||0,E=L===R.length?0:L-R.length+1,k=o("GridStoryAlbumUtils").getLayoutForAttachments(R),I=k[0],T=k[1],D=k[2];l[4]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x1jx94hy x5yr21d x1n2onr6 xh8yej3"},l[4]=g):g=l[4],h=I.map(function(e,t){var n,a,i,l,c,p,_,f=e.attachment.media;if(!f||!f.image||f.image.uri==null)return null;var g=d.jsx(r("CometFeedFocusImage.react"),{alt:(n=f.accessibility_caption)!=null?n:"",focusX:(a=(i=f.focus)==null?void 0:i.x)!=null?a:.5,focusY:(l=(c=f.focus)==null?void 0:c.y)!=null?l:.5,imageHeight:(p=f.image.height)!=null?p:0,imageWidth:(_=f.image.width)!=null?_:0,src:f.image.uri,viewportAspectRatio:e.columnSpan/T/(e.rowSpan/D)*m}),h=E>0&&t===I.length-1;return d.jsxs("div",{className:"x6ikm8r x10wlt62 x10l6tqk",style:o("GridStoryAlbumUtils").getStylesForGridCell(e,T,D),children:[g,h&&d.jsx("div",{className:"x1lxk4cn x1ey2m1c x9f619 x5yr21d xtijo5x x1o0tod x10l6tqk x13vifvy xh8yej3",children:d.jsx("div",{className:"x9f619 x17z8epw xngnso2 x1s688f x1nrll8i x10l6tqk xwa60dl x11lhmoz",children:s._(/*BTDS*/"+{num}",[s._param("num",E)])})}),f.is_playable===!0&&!h&&d.jsx("div",{className:"x9f619 x1nrll8i x10l6tqk xwa60dl x11lhmoz",children:d.jsx(r("CometImage.react"),{height:24,src:u("354763"),width:24})})]},f.id)}),l[0]=f==null||(v=f.all_subattachments)==null?void 0:v.count,l[1]=f==null||(S=f.all_subattachments)==null?void 0:S.nodes,l[2]=g,l[3]=h}else g=l[2],h=l[3];var x;return l[5]!==g||l[6]!==h?(x=d.jsx("div",babelHelpers.extends({},g,{children:h})),l[5]=g,l[6]=h,l[7]=x):x=l[7],x}function _(e){var t,n=e==null?void 0:e.media;if(!n)return!1;var r=(t=n.image)==null?void 0:t.uri;return r!=null}l.default=p}),226);
__d("ProfileCometTimelineGridStoryAlbumAttachmentStyle_styleTypeRenderer$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[e];return{kind:"SplitOperation",metadata:{},name:"ProfileCometTimelineGridStoryAlbumAttachmentStyle_styleTypeRenderer$normalization",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"gridMediaWidth"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Video",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:t,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:t,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:t,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:t,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:"all_subattachments(first:5)"}],storageKey:null}]}})();a.exports=e}),null);